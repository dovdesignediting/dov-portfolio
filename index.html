<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="szG70hq40iku21n_4eIXSeCS-IdLhfkQf_e9V7XjJhU" />
    <meta name="google" content="notranslate">
    <title>×“×•×‘ ×¢×™×¦×•×‘ ×•×¤×™×ª×•×— | Dov Design Studio</title>
    
    <link rel="icon" type="image/png" href="https://i.postimg.cc/rsB29YTx/Picsart-26-01-19-19-13-14-199.png">

    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Heebo:wght@300;400;700&display=swap" rel="stylesheet">
    
    <style>
        body { 
            font-family: 'Heebo', sans-serif; 
            background-color: #09090b; 
            color: #fafafa; 
            overflow-x: hidden; 
            scroll-behavior: smooth;
            -webkit-user-select: none;
            user-select: none;
            touch-action: manipulation;
        }
        .serif { font-family: 'Playfair Display', serif; }
        .brand-logo { height: 45px; width: auto; object-fit: contain; }
        
        .tm-symbol {
            font-size: 0.35em;
            vertical-align: super;
            margin-right: 2px;
            font-weight: 300;
            opacity: 0.8;
        }

        .masonry-grid { columns: 2; column-gap: 12px; }
        @media (min-width: 768px) { .masonry-grid { columns: 3; column-gap: 20px; } }
        
        .masonry-item { 
            break-inside: avoid; 
            margin-bottom: 12px; 
            position: relative;
            cursor: pointer;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow: hidden;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.05);
        }
        .masonry-item:hover { transform: scale(1.03); border-color: #f59e0b; }
        .masonry-item img { width: 100%; display: block; }

        #lightbox {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.98);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            backdrop-filter: blur(10px);
        }
        #lightbox.active { display: flex; }
        #lightbox-img { max-width: 95%; max-height: 85vh; object-fit: contain; border: 1px solid #333; }

        .page { display: none; }
        .page.active { display: block; animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .banner-wrapper {
            width: 100%;
            margin-top: 3rem;
            margin-bottom: 3rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }

        .scrolling-banner {
            width: 100%;
            height: 280px;
            background-size: contain;
            background-repeat: repeat-x;
            background-position: center;
            position: relative;
            z-index: 30;
            filter: drop-shadow(0 15px 30px rgba(0,0,0,0.6));
            transition: all 0.4s ease;
        }

        .banner-wrapper.is-full .scrolling-banner {
            animation: none !important;
            background-repeat: no-repeat !important;
            background-position: center !important;
            transform: scale(1.08);
            height: 350px;
        }

        #banner-he {
            background-image: url('https://i.postimg.cc/SKdWvXvD/Picsart-26-01-15-07-34-38-017.png');
            animation: scroll-bg-rtl 40s linear infinite;
        }

        #banner-en {
            background-image: url('https://i.postimg.cc/3wYX1jnw/1768446446562.png');
            animation: scroll-bg-ltr 40s linear infinite;
        }

        @keyframes scroll-bg-rtl { from { background-position: 0 center; } to { background-position: 1500px center; } }
        @keyframes scroll-bg-ltr { from { background-position: 0 center; } to { background-position: -1500px center; } }

        .banner-hint {
            font-size: 11px;
            color: #000;
            background-color: #f59e0b;
            padding: 5px 15px;
            border-radius: 20px;
            margin-bottom: 12px;
            font-weight: 800;
            text-transform: uppercase;
        }

        .lang-switch-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.05);
            padding: 8px 16px;
            border-radius: 50px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-shiny {
            position: relative;
            overflow: hidden;
        }
        .btn-shiny::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: rotate(45deg);
            animation: shine 3s infinite;
        }
        @keyframes shine {
            0% { left: -100%; }
            20% { left: 100%; }
            100% { left: 100%; }
        }

        .g-recaptcha {
            display: flex;
            justify-content: center;
            margin-top: 15px;
            margin-bottom: 15px;
        }

        /* Custom Scrollbar for the budget modal */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); border-radius: 10px; }
        ::-webkit-scrollbar-thumb { background: rgba(245, 158, 11, 0.5); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(245, 158, 11, 1); }

    </style>
</head>
<body class="notranslate" oncontextmenu="return false;">

    <div id="lightbox" onclick="closeLightbox()">
        <span style="position: absolute; top: 30px; right: 30px; font-size: 40px; color: white; cursor: pointer;">&times;</span>
        <img id="lightbox-img" src="">
    </div>

    <div id="mobile-menu" class="fixed inset-0 bg-black/98 z-[60] hidden flex-col items-center justify-center p-6 backdrop-blur-xl">
        <button onclick="toggleMobileMenu()" class="absolute top-6 right-6 text-white text-5xl font-light hover:text-amber-500 transition">&times;</button>
        <div class="flex flex-col items-center gap-6 text-center">
            <nav class="flex flex-col gap-6 text-2xl font-black uppercase tracking-[0.2em]">
                <button onclick="showPage('home'); toggleMobileMenu()" data-he="×‘×™×ª" data-en="HOME">×‘×™×ª</button>
                <button onclick="scrollToSection('about-section'); toggleMobileMenu()" data-he="××•×“×•×ª" data-en="ABOUT">××•×“×•×ª</button>
                <button onclick="showPage('gallery'); toggleMobileMenu()" data-he="×¢×‘×•×“×•×ª" data-en="WORKS">×¢×‘×•×“×•×ª</button>
                <button onclick="scrollToSection('contact-section'); toggleMobileMenu()" data-he="×¦×•×¨ ×§×©×¨" data-en="CONTACT">×¦×•×¨ ×§×©×¨</button>
            </nav>
            <div class="h-px w-20 bg-white/10 my-4"></div>
            <div class="flex flex-col gap-4 w-full max-w-[250px]">
                <a href="https://wa.me/13476834415" class="py-4 bg-green-600/20 border border-green-500/50 text-green-500 rounded-xl font-bold flex items-center justify-center gap-3">
                    WhatsApp
                </a>
            </div>
        </div>
    </div>

    <div id="budget-modal" class="fixed inset-0 bg-black/95 z-[70] hidden flex-col items-center justify-center p-4 md:p-6 backdrop-blur-md overflow-y-auto">
        <button onclick="closeBudgetModal()" class="absolute top-6 right-6 text-white text-4xl font-light hover:text-amber-500 transition">&times;</button>
        
        <div class="w-full max-w-2xl bg-zinc-950 border border-white/10 rounded-2xl p-6 md:p-8 mt-10 mb-10 shadow-2xl">
            <h2 class="text-3xl font-black text-amber-500 text-center mb-6 serif" data-he="××¢×¨×›×ª ×ª×§×¦×™×‘" data-en="BUDGET SYSTEM">××¢×¨×›×ª ×ª×§×¦×™×‘</h2>
            
            <div class="flex border-b border-white/10 mb-6">
                <button onclick="switchBudgetTab('preset')" id="tab-preset" class="flex-1 py-3 text-center border-b-2 border-amber-500 text-white font-bold transition">×ª×§×¦×™×‘ ××•×’×“×¨</button>
                <button onclick="switchBudgetTab('custom')" id="tab-custom" class="flex-1 py-3 text-center border-b-2 border-transparent text-zinc-500 font-bold hover:text-white transition">×ª×§×¦×™×‘ ×œ×¤×™ ×”×¢×™×Ÿ</button>
            </div>

            <div id="budget-preset-view" class="space-y-6">
                <p class="text-center text-zinc-400 text-sm">×‘×—×¨ ××• ×”×–×Ÿ ××ª ×”×ª×§×¦×™×‘ ×©×œ×š ×•× ×¨××” ×œ×š ××” × ×•×›×œ ×œ×”×¦×™×¢.</p>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                    <button onclick="calculatePresetBudget(50)" class="py-3 border border-white/20 rounded-lg hover:border-amber-500 hover:text-amber-500 transition bg-black">$50</button>
                    <button onclick="calculatePresetBudget(250)" class="py-3 border border-white/20 rounded-lg hover:border-amber-500 hover:text-amber-500 transition bg-black">$250</button>
                    <button onclick="calculatePresetBudget(500)" class="py-3 border border-white/20 rounded-lg hover:border-amber-500 hover:text-amber-500 transition bg-black">$500</button>
                    <button onclick="calculatePresetBudget(1500)" class="py-3 border border-white/20 rounded-lg hover:border-amber-500 hover:text-amber-500 transition bg-black">$1,500</button>
                    <button onclick="calculatePresetBudget(3050)" class="py-3 border border-white/20 rounded-lg hover:border-amber-500 hover:text-amber-500 transition bg-black">$3,050</button>
                    <button onclick="toggleCustomBudgetInput()" class="py-3 border border-amber-500/30 text-amber-500 rounded-lg hover:bg-amber-500 hover:text-black transition font-bold">××—×¨</button>
                </div>
                
                <div id="custom-budget-container" class="hidden flex gap-3">
                    <input type="number" id="custom-budget-input" placeholder="×”×§×œ×“ ×¡×›×•× ×‘- $" class="flex-1 bg-black border border-white/20 p-3 rounded-lg text-white outline-none focus:border-amber-500" min="0">
                    <button onclick="applyCustomBudget()" class="px-6 bg-amber-500 text-black font-bold rounded-lg hover:bg-amber-400">×‘×“×•×§</button>
                </div>

                <div id="preset-result" class="hidden bg-black/50 p-5 rounded-lg border border-white/10 mt-4 text-center">
                    <p id="preset-result-text" class="text-lg text-zinc-300 mb-5"></p>
                    <a id="preset-whatsapp-btn" href="#" target="_blank" class="hidden w-full py-4 bg-green-600 hover:bg-green-500 text-white font-black rounded-lg flex items-center justify-center gap-2 transition shadow-lg">
                        ×©×œ×— ×”×•×“×¢×” ×œ×•×•××˜×¡××¤
                    </a>
                </div>
            </div>

            <div id="budget-custom-view" class="hidden space-y-4">
                <p class="text-zinc-400 text-sm text-center mb-2">×”×¨×›×‘ ×œ×¢×¦××š ××ª ×”×—×‘×™×œ×”. ×‘×—×¨ ××ª ×”×©×™×¨×•×ª×™× ×©××ª×” ×¦×¨×™×š:</p>
                <div id="services-grid" class="grid grid-cols-1 md:grid-cols-2 gap-3 max-h-[45vh] overflow-y-auto pr-2">
                    </div>
                
                <div class="border-t border-white/10 pt-5 mt-4">
                    <div class="flex justify-between items-center mb-5 text-2xl font-black">
                        <span>×¡×”"×›:</span>
                        <span class="text-amber-500">$<span id="custom-total-price">0</span></span>
                    </div>
                    <a id="custom-whatsapp-btn" href="#" target="_blank" class="w-full py-4 bg-green-600 hover:bg-green-500 text-white font-black rounded-lg flex items-center justify-center gap-2 transition opacity-50 pointer-events-none shadow-lg">
                        ×§×‘×œ ×”×¦×¢×ª ××—×™×¨ ××¡×•×“×¨×ª ×‘×•×•××˜×¡××¤
                    </a>
                </div>
            </div>
        </div>
    </div>
    <header class="fixed top-0 left-0 right-0 z-50 py-4 px-6 bg-black/80 backdrop-blur-md border-b border-white/5">
        <div class="container mx-auto flex items-center justify-between">
            <div class="flex items-center gap-4">
                <button onclick="toggleMobileMenu()" class="md:hidden text-white"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path></svg></button>
                <button onclick="showPage('home')"><img src="https://i.postimg.cc/rsB29YTx/Picsart-26-01-19-19-13-14-199.png" class="brand-logo"></button>
            </div>
            <nav class="hidden md:flex gap-10 text-[10px] uppercase font-black tracking-[0.2em]">
                <button onclick="showPage('home')" data-he="×‘×™×ª" data-en="HOME">×‘×™×ª</button>
                <button onclick="scrollToSection('about-section')" data-he="××•×“×•×ª" data-en="ABOUT">××•×“×•×ª</button>
                <button onclick="showPage('gallery')" data-he="×¢×‘×•×“×•×ª" data-en="WORKS">×¢×‘×•×“×•×ª</button>
                <button onclick="scrollToSection('contact-section')" data-he="×¦×•×¨ ×§×©×¨" data-en="CONTACT">×¦×•×¨ ×§×©×¨</button>
            </nav>
            <button onclick="toggleLang()" class="lang-switch-btn">
                <img src="https://i.postimg.cc/Gt8wymfR/Picsart-26-01-31-22-18-21-257.png" class="w-5 h-5">
                <span id="lang-label" class="text-xs font-black">English</span>
            </button>
        </div>
    </header>

    <main id="home-page" class="page active">
        <section class="min-h-screen flex flex-col items-center justify-center relative pt-20 text-center px-6">
            <div class="absolute inset-0 bg-black/70 z-10"></div>
            <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1497215728101-856f4ea42174?q=80&w=2000')] bg-cover bg-center opacity-40"></div>
            <div class="relative z-20 w-full max-w-5xl mt-10">
                <h1 class="text-5xl md:text-8xl font-black mb-6 serif" data-he='×“×•×‘ ×¢×™×¦×•×‘ ×•×¤×™×ª×•×—<span class="tm-symbol">TM</span>' data-en='DOV DESIGN STUDIO<span class="tm-symbol">TM</span>'>×“×•×‘ ×¢×™×¦×•×‘ ×•×¤×™×ª×•×—<span class="tm-symbol">TM</span></h1>
                <p class="text-zinc-400 text-lg mb-10" data-he="×¡×˜×•×“×™×• ×‘×•×˜×™×§ ×‘×‘×¨×•×§×œ×™×Ÿ ×œ××™×ª×•×’ ×¤×¨×™××™×•× ×•×‘× ×™×™×ª ××ª×¨×™ ×§×¦×”." data-en="Boutique Brooklyn studio for premium branding & high-end web development.">×¡×˜×•×“×™×• ×‘×•×˜×™×§ ×‘×‘×¨×•×§×œ×™×Ÿ ×œ××™×ª×•×’ ×¤×¨×™××™×•× ×•×‘× ×™×™×ª ××ª×¨×™ ×§×¦×”.</p>
                
                <div class="flex flex-col sm:flex-row gap-5 justify-center mb-6">
                    <button onclick="showPage('gallery')" class="btn-shiny px-12 py-5 bg-amber-500 text-black font-black uppercase tracking-widest text-xs rounded-sm" data-he="×¦×¤×” ×‘×ª×™×§ ×¢×‘×•×“×•×ª" data-en="VIEW PORTFOLIO">×¦×¤×” ×‘×ª×™×§ ×¢×‘×•×“×•×ª</button>
                    <button onclick="scrollToSection('contact-section')" class="px-12 py-5 border border-white/20 text-white font-black uppercase tracking-widest text-xs rounded-sm" data-he="×‘×•× × ×“×‘×¨" data-en="GET IN TOUCH">×‘×•× × ×“×‘×¨</button>
                </div>
                <div class="flex justify-center mb-16">
                    <button onclick="openBudgetModal()" class="px-8 py-2 bg-zinc-900/80 border border-amber-500/50 text-amber-500 font-bold rounded-full hover:bg-amber-500 hover:text-black transition flex items-center gap-2 text-sm" data-he="ğŸ¯ ××¢×¨×›×ª ×ª×§×¦×™×‘" data-en="ğŸ¯ BUDGET SYSTEM">
                        ğŸ¯ ××¢×¨×›×ª ×ª×§×¦×™×‘
                    </button>
                </div>

                <div id="wrapper-he" class="banner-wrapper" onclick="this.classList.toggle('is-full')">
                    <p class="banner-hint" data-he="×œ×—×¦×• ×œ×¦×¤×™×™×” ××œ××”" data-en="CLICK">×œ×—×¦×• ×œ×¦×¤×™×™×” ××œ××”</p>
                    <div class="scrolling-banner" id="banner-he"></div>
                </div>
                <div id="wrapper-en" class="banner-wrapper hidden" onclick="this.classList.toggle('is-full')">
                    <p class="banner-hint">CLICK FOR FULL VIEW</p>
                    <div class="scrolling-banner" id="banner-en"></div>
                </div>
            </div>
        </section>

        <section id="about-section" class="py-24 px-6 border-t border-white/5">
            <div class="container mx-auto max-w-4xl text-center">
                <h2 class="text-4xl md:text-6xl font-black mb-10 serif italic" data-he="××•×“×•×ª" data-en="ABOUT">××•×“×•×ª</h2>
                <p class="text-zinc-300 leading-loose" data-he="×¡×˜×•×“×™×• '×“×•×‘ ×¢×™×¦×•×‘ ×•×¤×™×ª×•×—' ××ª××—×” ×‘××™×ª×•×’ ×™×•×§×¨×ª×™ ×•×‘× ×™×™×ª ××ª×¨×™× ×‘×¡×˜× ×“×¨×˜ ×‘×™× ×œ××•××™ ×‘×‘×¨×•×§×œ×™×Ÿ." data-en="Dov Design specializes in luxury branding and web building in Brooklyn.">×¡×˜×•×“×™×• '×“×•×‘ ×¢×™×¦×•×‘ ×•×¤×™×ª×•×—' ××ª××—×” ×‘××™×ª×•×’ ×™×•×§×¨×ª×™ ×•×‘× ×™×™×ª ××ª×¨×™× ×‘×¡×˜× ×“×¨×˜ ×‘×™× ×œ××•××™ ×‘×‘×¨×•×§×œ×™×Ÿ.</p>
            </div>
        </section>

        <section id="contact-section" class="py-24 bg-zinc-950 px-6 border-t border-white/5">
            <div class="container mx-auto max-w-3xl text-center">
                <h2 class="text-4xl md:text-6xl font-black mb-8 serif italic" data-he="×‘×•××• × ×¦× ×œ×“×¨×š" data-en="Let's Start">×‘×•××• × ×¦× ×œ×“×¨×š</h2>
                <form id="contact-form" action="https://formspree.io/f/mvzzqrnz" method="POST" class="space-y-4">
                    <input type="text" name="name" required placeholder="×©× ××œ×" class="w-full bg-black border border-white/10 p-5 rounded-lg">
                    <input type="email" name="_replyto" required placeholder="××™××™×™×œ" class="w-full bg-black border border-white/10 p-5 rounded-lg">
                    <textarea name="message" required rows="4" placeholder="×¡×¤×¨ ×œ×™ ×¢×œ ×”×¤×¨×•×™×§×˜" class="w-full bg-black border border-white/10 p-5 rounded-lg"></textarea>
                    <div class="g-recaptcha" data-sitekey="6LdklHEsAAAAAHRmlsC7lVEPNt3ej5DsyGdQENls" data-theme="dark"></div>
                    <button type="submit" class="w-full py-5 bg-amber-500 text-black font-black uppercase tracking-widest text-xs rounded-lg" data-he="×©×œ×— ×”×•×“×¢×”" data-en="SEND">×©×œ×— ×”×•×“×¢×”</button>
                </form>
            </div>
        </section>
    </main>

    <main id="gallery-page" class="page pt-32 pb-20">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-5xl font-black mb-12 serif italic" data-he="×ª×™×§ ×¢×‘×•×“×•×ª" data-en="PORTFOLIO">×ª×™×§ ×¢×‘×•×“×•×ª</h2>
            <div id="gallery-grid" class="masonry-grid"></div>
            <button onclick="showPage('home')" class="mt-20 px-12 py-5 border border-white/20 text-white font-black uppercase tracking-widest text-[10px]">BACK HOME</button>
        </div>
    </main>

    <footer class="py-16 text-center bg-black border-t border-white/5">
        <p class="text-amber-500 font-bold italic text-xl mb-4">×™×—×™ ×”××œ×š ×”××©×™×—!</p>
        <p class="text-[9px] text-zinc-600 uppercase tracking-[0.4em]">Â© 2026 DOV DESIGN & DEVELOPMENTâ„¢ | BROOKLYN, NY</p>
    </footer>

    <script>
        let currentLang = 'he';
        const works = [
            {url: 'https://i.postimg.cc/fT3SF1hz/Picsart-25-08-30-21-41-32-973.png', cat: 'ads'},
            {url: 'https://i.postimg.cc/66bGMtFN/1767556230317.png', cat: 'ads'},
            {url: 'https://i.postimg.cc/QxRKrSXB/1755407066547.png', cat: 'ads'},
            {url: 'https://i.postimg.cc/wTtRPndv/1756004839008.png', cat: 'branding'},
            {url: 'https://i.postimg.cc/05XJVPh1/IMG-20251228-WA0014.jpg', cat: 'branding'},
            {url: 'https://i.postimg.cc/rsB29YTx/Picsart-26-01-19-19-13-14-199.png', cat: 'branding'},
            {url: 'https://i.postimg.cc/y8XCnYW8/Picsart-26-01-20-05-54-51-529.jpg', cat: 'business_cards'},
            {url: 'https://i.postimg.cc/7ZMrXYbY/Picsart-26-01-20-05-51-57-093.png', cat: 'business_cards'}
        ];

        // --- Budget System Logic ---
        const myWhatsAppNumber = '972559646422';
        
        const servicesList = [
            { id: 'logo', name: '××™×ª×•×’ ×•×œ×•×’×•', price: 500 },
            { id: 'bcard', name: '×›×¨×˜×™×¡ ×‘×™×§×•×¨ Pro', price: 150 },
            { id: 'digital', name: '× ×•×›×—×•×ª ×“×™×’×™×˜×œ×™×ª', price: 250 },
            { id: 'copy', name: '×›×ª×™×‘×ª ×ª×•×›×Ÿ ×©×™×•×•×§×™', price: 400 },
            { id: 'web', name: '×¤×™×ª×•×— ××ª×¨ ×‘×¡×™×¡×™', price: 500 },
            { id: 'host', name: '××—×¡×•×Ÿ ×•×“×•××™×™×Ÿ', price: 200 },
            { id: 'seo', name: '××•×¤×˜×™××™×–×¦×™×™×ª SEO', price: 350 },
            { id: 'integration', name: "××™× ×˜×’×¨×¦×™×•×ª ×¦×“ ×’'", price: 300 },
            { id: 'training', name: '×”×“×¨×›×” ×¢×œ ×”××¢×¨×›×ª', price: 150 },
            { id: 'maintenance', name: '×—×•×“×© ×ª×—×–×•×§×” ×¨××©×•×Ÿ', price: 250 },
            { id: 'gmaps', name: '×”×§××” ×•-SEO ××§×•××™ ×’×•×’×œ ××¤×•×ª', price: 250 }
        ];

        let selectedServices = [];

        function openBudgetModal() {
            document.getElementById('budget-modal').classList.remove('hidden');
            document.getElementById('budget-modal').classList.add('flex');
            renderCustomServices();
        }

        function closeBudgetModal() {
            document.getElementById('budget-modal').classList.add('hidden');
            document.getElementById('budget-modal').classList.remove('flex');
            // Reset state when closing
            document.getElementById('preset-result').classList.add('hidden');
            document.getElementById('custom-budget-container').classList.add('hidden');
        }

        function switchBudgetTab(tab) {
            if (tab === 'preset') {
                document.getElementById('tab-preset').classList.replace('border-transparent', 'border-amber-500');
                document.getElementById('tab-preset').classList.replace('text-zinc-500', 'text-white');
                document.getElementById('tab-custom').classList.replace('border-amber-500', 'border-transparent');
                document.getElementById('tab-custom').classList.replace('text-white', 'text-zinc-500');
                
                document.getElementById('budget-preset-view').classList.remove('hidden');
                document.getElementById('budget-custom-view').classList.add('hidden');
            } else {
                document.getElementById('tab-custom').classList.replace('border-transparent', 'border-amber-500');
                document.getElementById('tab-custom').classList.replace('text-zinc-500', 'text-white');
                document.getElementById('tab-preset').classList.replace('border-amber-500', 'border-transparent');
                document.getElementById('tab-preset').classList.replace('text-white', 'text-zinc-500');
                
                document.getElementById('budget-custom-view').classList.remove('hidden');
                document.getElementById('budget-preset-view').classList.add('hidden');
            }
        }

        function toggleCustomBudgetInput() {
            const container = document.getElementById('custom-budget-container');
            container.classList.toggle('hidden');
            document.getElementById('preset-result').classList.add('hidden');
        }

        function applyCustomBudget() {
            const val = document.getElementById('custom-budget-input').value;
            if (val && val >= 0) {
                calculatePresetBudget(parseInt(val));
            }
        }

        function calculatePresetBudget(amount) {
            const resultBox = document.getElementById('preset-result');
            const resultText = document.getElementById('preset-result-text');
            const waBtn = document.getElementById('preset-whatsapp-btn');
            
            resultBox.classList.remove('hidden');
            
            let message = '';
            let waMessage = '';

            if (amount < 50) {
                message = '×”×ª×§×¦×™×‘ ×©×œ×š ×§×˜×Ÿ ××™×“×™ ×‘×©×‘×™×œ ×©× ×•×›×œ ×œ×¡×¤×§ ×œ×š ××ª ×”×©×™×¨×•×ª×™× ×”××ª××™××™×.';
                waBtn.classList.add('hidden');
            } else if (amount > 3050) {
                message = '×”×ª×§×¦×™×‘ ×©×œ×š ×’×‘×•×”×” ×•×× ×—× ×• ×™×›×•×œ×™× ×œ×ª×ª ×œ×š ×©×™×¨×•×ª×™× ×‘×¤×—×•×ª ××”×ª×§×¦×™×‘ ×”× "×œ.';
                waMessage = `×”×™×™ ×“×•×‘! ×¨××™×ª×™ ×©×—×‘×™×œ×ª "×”×›×œ ×›×œ×•×œ" ×©×œ×›× ×¢×•×œ×” ×¤×—×•×ª ××”×ª×§×¦×™×‘ ×©×œ×™ ($${amount}). ××©××— ×œ×©××•×¢ ×¤×¨×˜×™× ×•×œ×”×ª×§×“×!`;
                waBtn.href = `https://wa.me/${myWhatsAppNumber}?text=${encodeURIComponent(waMessage)}`;
                waBtn.classList.remove('hidden');
            } else {
                message = `××¢×•×œ×”! ×‘×ª×§×¦×™×‘ ×©×œ $${amount} × ×•×›×œ ×œ×”×¨×›×™×‘ ×¢×‘×•×¨×š ×—×‘×™×œ×ª ×©×™×¨×•×ª×™× ××™×›×•×ª×™×ª ×©×ª×§×“× ××ª ×”×¢×¡×§ ×©×œ×š (×›××• ××™×ª×•×’, × ×•×›×—×•×ª ×“×™×’×™×˜×œ×™×ª ××• ×¤×™×ª×•×—). ×©×œ×— ×œ×™ ×”×•×“×¢×” ×•× ×ª×¤×•×¨ ×œ×š ×”×¦×¢×” ××“×•×™×™×§×ª.`;
                waMessage = `×”×™×™ ×“×•×‘, ×”×ª×§×¦×™×‘ ×©×œ×™ ×œ×¤×¨×•×™×§×˜ ×”×•× ×›-$${amount}. ××©××— ×œ×‘×“×•×§ ××™×–×” ×©×™×¨×•×ª×™× ××ª××™××™× ×œ×™ ×‘×ª×§×¦×™×‘ ×”×–×” ×•×œ×¦××ª ×œ×“×¨×š!`;
                waBtn.href = `https://wa.me/${myWhatsAppNumber}?text=${encodeURIComponent(waMessage)}`;
                waBtn.classList.remove('hidden');
            }

            resultText.innerText = message;
        }

        function renderCustomServices() {
            const grid = document.getElementById('services-grid');
            grid.innerHTML = '';
            
            servicesList.forEach(srv => {
                const isSelected = selectedServices.includes(srv.id);
                const btn = document.createElement('button');
                
                btn.className = `p-4 border rounded-xl flex justify-between items-center text-right transition-all duration-300 ${isSelected ? 'border-amber-500 bg-amber-500/10' : 'border-white/10 bg-black hover:border-white/30'}`;
                btn.onclick = () => toggleCustomService(srv.id);
                
                btn.innerHTML = `
                    <div class="flex items-center gap-3">
                        <div class="${isSelected ? 'bg-amber-500 border-amber-500' : 'border-zinc-600'} w-5 h-5 rounded border flex items-center justify-center transition">
                            ${isSelected ? '<svg class="w-3 h-3 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>' : ''}
                        </div>
                        <span class="${isSelected ? 'text-white' : 'text-zinc-400'} font-medium text-sm">${srv.name}</span>
                    </div>
                    <span class="${isSelected ? 'text-amber-500' : 'text-zinc-500'} font-black text-sm">$${srv.price}</span>
                `;
                
                grid.appendChild(btn);
            });
            
            updateCustomTotal();
        }

        function toggleCustomService(id) {
            if (selectedServices.includes(id)) {
                selectedServices = selectedServices.filter(sId => sId !== id);
            } else {
                selectedServices.push(id);
            }
            renderCustomServices();
        }

        function updateCustomTotal() {
            let total = 0;
            let selectedNames = [];
            
            selectedServices.forEach(id => {
                const srv = servicesList.find(s => s.id === id);
                if(srv) {
                    total += srv.price;
                    selectedNames.push(srv.name);
                }
            });
            
            document.getElementById('custom-total-price').innerText = total;
            
            const waBtn = document.getElementById('custom-whatsapp-btn');
            if (total > 0) {
                waBtn.classList.remove('opacity-50', 'pointer-events-none');
                const servicesText = selectedNames.map((n, i) => `${i+1}. ${n}`).join('\n');
                const waMessage = `×”×™×™ ×“×•×‘! \n×”×¨×›×‘×ª×™ ×œ×¢×¦××™ ×—×‘×™×œ×ª ×©×™×¨×•×ª×™× ×‘"××¢×¨×›×ª ×”×ª×§×¦×™×‘" ×‘××ª×¨ ×©×œ×š:\n\n${servicesText}\n\n×¡×”"×› ××—×™×¨ ××©×•×¢×¨: $${total}\n××©××— ×œ×§×‘×œ ×”×¦×¢×ª ××—×™×¨ ××¡×•×“×¨×ª ×•×œ×”×ª×§×“×!`;
                waBtn.href = `https://wa.me/${myWhatsAppNumber}?text=${encodeURIComponent(waMessage)}`;
            } else {
                waBtn.classList.add('opacity-50', 'pointer-events-none');
                waBtn.href = "#";
            }
        }
        // --- End Budget System Logic ---

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId + '-page').classList.add('active');
            window.scrollTo(0, 0);
            if(pageId === 'gallery') renderGallery();
        }

        function scrollToSection(sectionId) {
            if (!document.getElementById('home-page').classList.contains('active')) {
                showPage('home');
                setTimeout(() => {
                    const section = document.getElementById(sectionId);
                    if (section) section.scrollIntoView({ behavior: 'smooth' });
                }, 100);
            } else {
                const section = document.getElementById(sectionId);
                if (section) section.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function toggleLang() {
            currentLang = currentLang === 'he' ? 'en' : 'he';
            document.documentElement.dir = currentLang === 'he' ? 'rtl' : 'ltr';
            document.getElementById('lang-label').innerText = currentLang === 'he' ? 'English' : '×¢×‘×¨×™×ª';
            document.querySelectorAll('[data-he]').forEach(el => {
                const text = el.getAttribute('data-' + currentLang);
                if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') el.placeholder = text;
                else el.innerHTML = text;
            });
            document.getElementById('wrapper-he').classList.toggle('hidden', currentLang !== 'he');
            document.getElementById('wrapper-en').classList.toggle('hidden', currentLang !== 'en');
        }

        function renderGallery() {
            const grid = document.getElementById('gallery-grid');
            if (!grid) return;
            grid.innerHTML = '';
            works.forEach(work => {
                const div = document.createElement('div');
                div.className = 'masonry-item';
                div.onclick = () => { document.getElementById('lightbox-img').src = work.url; document.getElementById('lightbox').classList.add('active'); };
                div.innerHTML = `<img src="${work.url}">`;
                grid.appendChild(div);
            });
        }

        function closeLightbox() { document.getElementById('lightbox').classList.remove('active'); }

        window.onload = () => { if (document.getElementById('gallery-page').classList.contains('active')) renderGallery(); };
    </script>
</body>
</html>
